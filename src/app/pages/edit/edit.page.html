<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="home/notas"></ion-back-button>

 
    </ion-buttons>
    <ion-title>Editar nota</ion-title>
    <!-- <ion-buttons slot="end">
      <ion-button *ngIf="!editMode" (click)="toggleEditMode()">Editar</ion-button>
      <ion-button *ngIf="editMode" (click)="toggleEditMode()">Cancelar</ion-button>
      <ion-button *ngIf="editMode" (click)="agregarCampo()">Agregar campo</ion-button>
      <ion-button *ngIf="editMode" [disabled]="otherFields.length === 0" color="danger" (click)="eliminarCampo(otherFields[otherFields.length - 1])">Eliminar campo</ion-button>
      <ion-button *ngIf="editMode" (click)="onSubmit()">Guardar</ion-button>
    </ion-buttons> -->

    <ion-buttons slot="end">
      <ion-button *ngIf="!editMode" (click)="toggleEditMode()">
        <ion-icon slot="icon-only" name="create"></ion-icon>
      </ion-button>
      <ion-button *ngIf="editMode" (click)="toggleEditMode()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
      <ion-button *ngIf="editMode" (click)="agregarCampo()">
        <ion-icon slot="icon-only" name="add"></ion-icon>
      </ion-button>
      <ion-button *ngIf="editMode" [disabled]="otherFields.length === 0" color="danger" 
      (click)="deleteNota(nota?.id, nota?.titulo)">
        <ion-icon slot="icon-only" name="trash"></ion-icon>
      </ion-button>
      <ion-button *ngIf="editMode" (click)="onSubmit()">
        <ion-icon slot="icon-only" name="save"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card *ngIf="!editMode">
    <ion-card-header>
      <ion-card-title>{{nota?.titulo}}</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>{{nota?.comentario}}</p>
      <ion-list>
        <ion-item *ngFor="let field of otherFields">
          <ion-label>{{field}}</ion-label>
          <ion-note slot="end">{{nota[field]}}</ion-note>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <form *ngIf="editMode" [formGroup]="notaForm">
    <ion-item>
      <ion-label position="floating">TÃ­tulo</ion-label>
      <ion-input formControlName="titulo"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Comentario</ion-label>
      <ion-textarea formControlName="comentario"></ion-textarea>
    </ion-item>

    <ion-list>
      <ion-item *ngFor="let field of otherFields">
        <ion-label>{{field}}</ion-label>
        <ion-input formControlName="{{field}}"></ion-input>
        <ion-icon slot="end" name="close" color="danger" (click)="eliminarCampo(field)" *ngIf="editMode"></ion-icon>
      </ion-item>
    </ion-list>
  </form>




  <h3>Docs</h3>
  <p>Aca van las imagenes</p>

  y el boton de change image
z
  <div class="buttons" *ngIf="!editMode">
    <ion-button expand="block" (click)="toggleEditMode()">
      <ion-icon name="create-outline"></ion-icon>
    </ion-button>
    <ion-button expand="block" (click)="deleteNota(nota?.id, nota?.titulo)">
      Borrar 
    </ion-button>
  </div>

</ion-content>